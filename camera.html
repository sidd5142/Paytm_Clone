<!DOCTYPE html>
<html ng-app="qrCodeApp">
<head>
    <meta charset="UTF-8">
    <title>QR Code Scanner</title>
</head>
<body ng-controller="qrCodeController">
    <button ng-click="openScanner()">Scan QR Code</button>
    <video id="scanner-video" style="display: none;"></video>
    <div id="result"></div>

    <script src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
</body>
<script>
  angular.module('qrCodeApp', [])
    .controller('qrCodeController', function ($scope) {
        $scope.openScanner = function () {
            // Display the video element
            const videoElement = document.getElementById('scanner-video');
            videoElement.style.display = 'block';

            // Configure the scanner
            const scanner = new Instascan.Scanner({ video: videoElement });

            scanner.addListener('scan', function (content) {
                // Display the scanned QR code content
                document.getElementById('result').textContent = 'QR Code Content: ' + content;
                
                // Hide the video element after scanning
                videoElement.style.display = 'none';
            });

            // Start scanning
            Instascan.Camera.getCameras().then(function (cameras) {
                if (cameras.length > 0) {
                    scanner.start(cameras[0]);
                } else {
                    console.error('No cameras found.');
                }
            });
        };
    });

</script>
</html>
